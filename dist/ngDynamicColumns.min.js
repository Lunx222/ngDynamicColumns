/**
 * ngDynamicColumns - v0.1.0 - 2014-11-08
 * https://github.com/marcorinck/ngDynamicColumns
 * Copyright (c) 2014 Marco Rinck; Licensed MIT
 */
angular.module("ngDynamicColumns").directive("columnHeader",function(a,b){"use strict";var c;return{restrict:"A",controller:function(d,e,f){c=d["column-header"],a.$on("columnToggled",function(a,c){b.toggleColumn(e,c)}),a.$on("recreateColumns",function(){b.renderColumn(d,e,d[f.columnHeader])}),a.$on("columnOrderChanged",function(a,c,d){b.changeColumnOrder(e,c,d)})},link:function(a,d,e){if(!e.columnHeader)throw new Error("columnHeader directive needs a column configuration object, but got "+e.dynamicRow);if(!a[e.columnHeader])throw new Error("Can't find the column configuration object on the scope: "+e.columnHeader);c=a[e.columnHeader],b.renderColumn(a,d,c)}}}),angular.module("ngDynamicColumns").factory("dynamicColumnService",function(a){"use strict";function b(a){return'<table><tr><th data-col-id="'+a.id+'"'+a.directive+' class="'+a.clazz+'"></th></tr></table>'}function c(a){return'<table><tr><td data-col-id="'+a.id+'"'+a.directive+' class="'+a.clazz+'"></td></tr></table>'}function d(a,d){var e;return"th"===a?e=b(d):"td"===a&&(e=c(d)),e=angular.element(e),e.find(a)}function e(b,c,e,f,g){var h,i,j,k;for(c.children()&&c.children().remove(),i=0;i<e.length;i++)h=e[i],k={directive:h[f],clazz:h.clazz,id:h.id},h.visible||(k.clazz=k.clazz+" ng-hide"),j=a(d(g,k))(b),c.append(j)}function f(a,b,c){e(a,b,c,"rowDirective","td")}function g(a,b,c){e(a,b,c,"columnDirective","th")}function h(a,b){var c,d,e;for(c=0;c<a.children().length;c++)if(d=a.children()[c],e=d.attributes["data-col-id"].nodeValue,e===b){d=angular.element(d),d.hasClass("ng-hide")?angular.element(d).removeClass("ng-hide"):angular.element(d).addClass("ng-hide");break}}function i(a,b,c){var d,e,f,g,h,i,j=!1,k=a.children();for(d=0;d<k.length;d++){var l,m=k[d];if(l=m.attributes["data-col-id"].nodeValue,l===b?(f=angular.element(m),h=d):l===c&&(g=angular.element(m),i=d,f||(j=!0)),f&&g)break}return f&&g&&(j?(e=g.after(f),f.after(e)):g.after(f)),{sourceIndex:h,destIndex:i}}return{renderRow:f,renderColumn:g,toggleColumn:h,changeColumnOrder:i}}),angular.module("ngDynamicColumns").directive("dynamicRow",function(a,b){"use strict";return{restrict:"A",controller:function(c,d,e){a.$on("columnToggled",function(a,c){b.toggleColumn(d,c)}),a.$on("recreateColumns",function(){b.renderRow(c,d,c[e.dynamicRow])}),a.$on("columnOrderChanged",function(a,c,e){b.changeColumnOrder(d,c,e)})},link:function(a,c,d){if(!d.dynamicRow)throw new Error("dynamicRow direcive needs a column configuration object, but got "+d.dynamicRow);if(!a[d.dynamicRow])throw new Error("Can't find the column configuration object on the scope: "+d.dynamicRow);b.renderRow(a,c,a[d.dynamicRow])}}}),angular.module("ngDynamicColumns",[]);