/**
 * ngDynamicColumns - v0.2.1 - 2014-11-10
 * https://github.com/marcorinck/ngDynamicColumns
 * Copyright (c) 2014 Marco Rinck; Licensed MIT
 */
!function(a){"use strict";a.module("ngDynamicColumns").directive("columnHeader",["$rootScope","dynamicColumnService",function(a,b){return{restrict:"A",link:function(c,d,e){if(!e.columnHeader)throw new Error("columnHeader directive needs a column configuration object, but got "+e.dynamicRow);if(!c[e.columnHeader])throw new Error("Can't find the column configuration object on the scope: "+e.columnHeader);b.renderColumn(c,d,c[e.columnHeader]),a.$on("columnToggled",function(a,c){b.toggleColumn(d,c)}),a.$on("recreateColumns",function(){b.renderColumn(c,d,c[e.columnHeader])}),a.$on("columnOrderChanged",function(a,c,e){b.changeColumnOrder(d,c,e)})}}}])}(angular),function(a){"use strict";a.module("ngDynamicColumns").factory("dynamicColumnService",["$compile",function(b){function c(a){return'<table><tr><th data-col-id="'+a.id+'"'+a.directive+' class="'+a.clazz+'"></th></tr></table>'}function d(a){return'<table><tr><td data-col-id="'+a.id+'"'+a.directive+' class="'+a.clazz+'"></td></tr></table>'}function e(b,e){var f;return"th"===b?f=c(e):"td"===b&&(f=d(e)),a.element(f).find(b)}function f(a,c,d,f,g){c.children()&&c.children().remove(),d.forEach(function(d){var h={directive:d[f],clazz:d.clazz||"",id:d.id};d.visible||(h.clazz=h.clazz+" ng-hide"),c.append(b(e(g,h))(a))})}function g(a,b,c){f(a,b,c,"rowDirective","td")}function h(a,b,c){f(a,b,c,"columnDirective","th")}function i(b,c){var d,e,f=b.children();Object.keys(f).some(function(b){return d=f[b],e=d.attributes["data-col-id"].value,e===c?(d=a.element(d),d.hasClass("ng-hide")?a.element(d).removeClass("ng-hide"):a.element(d).addClass("ng-hide"),!0):void 0})}function j(b,c,d){var e,f,g,h,i,j=!1,k=b.children();return Object.keys(k).some(function(b,e){var l=k[b].attributes["data-col-id"].value;return l===c?(f=a.element(k[b]),h=e):l===d&&(g=a.element(k[b]),i=e,f||(j=!0)),f&&g?!0:void 0}),f&&g?(j?(e=g.after(f),f.after(e)):g.after(f),{destIndex:i,sourceIndex:h}):null}return{renderRow:g,renderColumn:h,toggleColumn:i,changeColumnOrder:j}}])}(angular),function(a){"use strict";a.module("ngDynamicColumns").directive("dynamicRow",["$rootScope","dynamicColumnService",function(a,b){var c;return{restrict:"A",link:function(d,e,f){if(!f.dynamicRow)throw new Error("dynamicRow direcive needs a column configuration object, but got "+f.dynamicRow);if(!d[f.dynamicRow])throw new Error("Can't find the column configuration object on the scope: "+f.dynamicRow);b.renderRow(d,e,d[f.dynamicRow]),a.$on("columnToggled",function(a,c){b.toggleColumn(e,c)}),a.$on("recreateColumns",function(){b.renderRow(d,e,d[f.dynamicRow])}),a.$on("columnOrderChanged",function(a,g,h,i){var j=b.changeColumnOrder(e,g,h),k=i||{};c===a||k.skipUpdatingColumnConfiguration||(d[f.dynamicRow].splice(j.destIndex,0,d[f.dynamicRow].splice(j.sourceIndex,1)[0]),c=a)})}}}])}(angular),function(a){"use strict";a.module("ngDynamicColumns",[])}(angular);